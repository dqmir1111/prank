<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>@NFC_Pranks_bot</title>
    <style>
        body { 
            background: #000; 
            color: #fff; 
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            justify-content: center; 
            height: 100vh; 
            margin: 0; 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            overflow: hidden; 
        }
        #overlay { 
            position: fixed; 
            top: 0; 
            left: 0; 
            width: 100%; 
            height: 100%; 
            background: rgba(0,0,0,0.98); 
            display: flex; 
            align-items: center; 
            justify-content: center; 
            z-index: 9999; 
            cursor: pointer; 
        }
        #overlay h2 { 
            color: #ff0000; 
            text-align: center; 
            animation: blink 1.2s infinite; 
            font-size: 26px; 
            line-height: 1.5;
            pointer-events: none; 
        }
        @keyframes blink { 0% { opacity: 1; } 50% { opacity: 0.1; } 100% { opacity: 1; } }
        
        #mainImage { 
            max-width: 90%; 
            max-height: 75vh; 
            display: none; 
            border: 2px solid #222;
            border-radius: 15px; 
            box-shadow: 0 0 20px rgba(255,0,0,0.2);
        }
        h1 { 
            margin-top: 25px; 
            color: #222; 
            font-size: 12px; 
            letter-spacing: 2px;
        }
    </style>
</head>
<body>

    <div id="overlay" onclick="startSystem()">
        <h2>@NFC_Pranks_bot<br>–ù–ê–ñ–ú–ò –ù–ê –≠–ö–†–ê–ù –î–õ–Ø –ó–ê–ü–£–°–ö–ê<br><br>üëá</h2>
    </div>
    
    <img id="mainImage" src="kenko.png" alt="Media content">
    
    <h1>@NFC_Pranks_bot</h1>

    <script>
        // –¢–≤–æ–π –Ω–æ–≤—ã–π –∞–¥—Ä–µ—Å —Ç—É–Ω–Ω–µ–ª—è
const socketUrl = 'wss://hungry-hotels-press.loca.lt';
        
        let sounds = {
            custom: new Audio(),
            deton: new Audio('deton.mp3'),
            vzriv: new Audio('vzriv.mp3')
        };
        sounds.vzriv.loop = true;

        function startSystem() {
            // –ü—Ä—è—á–µ–º –æ–≤–µ—Ä–ª–µ–π –∏ –ø–æ–∫–∞–∑—ã–≤–∞–µ–º –∫–∞—Ä—Ç–∏–Ω–∫—É
            document.getElementById('overlay').style.display = 'none';
            document.getElementById('mainImage').style.display = 'block';
            
            // "–†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º" –∑–≤—É–∫–∏ (–≤–æ—Å–ø—Ä–æ–∏–∑–≤–æ–¥–∏–º —Ç–∏—à–∏–Ω—É)
            Object.values(sounds).forEach(a => {
                a.play().then(() => a.pause()).catch(() => {});
            });
            
            console.log("–°–∏—Å—Ç–µ–º–∞ –∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞–Ω–∞. –ü–æ–¥–∫–ª—é—á–∞—é—Å—å –∫ —Å–µ—Ä–≤–µ—Ä—É...");
            connect();
        }

        function connect() {
            const socket = new WebSocket(socketUrl);
            
            socket.onopen = () => {
                console.log("–£—Å–ø–µ—à–Ω–æ–µ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –∫ —Ç—É–Ω–Ω–µ–ª—é!");
            };

            socket.onmessage = (event) => {
                try {
                    const data = JSON.parse(event.data);
                    console.log("–ü–æ–ª—É—á–µ–Ω–∞ –∫–æ–º–∞–Ω–¥–∞:", data.type);

                    if (data.type === 'play_custom') { 
                        if(sounds.custom.src) playAudio(sounds.custom);
                    } 
                    else if (data.type === 'play_deton') { 
                        playAudio(sounds.deton);
                    } 
                    else if (data.type === 'toggle_vzriv') { 
                        sounds.vzriv.paused ? playAudio(sounds.vzriv) : sounds.vzriv.pause();
                    } 
                    else if (data.type === 'stop') { 
                        Object.values(sounds).forEach(a => { a.pause(); a.currentTime = 0; });
                    } 
                    else if (data.type === 'img') { 
                        document.getElementById('mainImage').src = data.url;
                    } 
                    else if (data.type === 'change_sound') { 
                        sounds.custom.src = data.new_sound_url;
                        sounds.custom.load();
                    }
                } catch (e) {
                    console.error("–û—à–∏–±–∫–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∏ –¥–∞–Ω–Ω—ã—Ö:", e);
                }
            };

            socket.onerror = (error) => {
                console.error("–û—à–∏–±–∫–∞ WebSocket. –ü—Ä–æ–≤–µ—Ä—å, –∑–∞–ø—É—â–µ–Ω –ª–∏ lt –∏ main.py");
            };

            socket.onclose = () => {
                console.log("–°–æ–µ–¥–∏–Ω–µ–Ω–∏–µ —Ä–∞–∑–æ—Ä–≤–∞–Ω–æ. –ü–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 3 —Å–µ–∫—É–Ω–¥—ã...");
                setTimeout(connect, 3000);
            };
        }

        function playAudio(a) {
            if (a.src && a.src !== window.location.href) {
                a.currentTime = 0;
                a.play().catch(err => console.log("–û—à–∏–±–∫–∞ –∑–≤—É–∫–∞:", err));
            }
        }
    </script>
</body>
</html>

